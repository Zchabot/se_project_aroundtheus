!function(){"use strict";class e{constructor(e,t,s,i,r){let{name:n,link:o,_id:a,isLiked:l}=e;this._name=n,this._link=o,this._id=a,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteCard=i,this._handleLikes=r,this._isLiked=l}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeIcon),this._cardElement.querySelector(".cards__delete-button").addEventListener("click",(()=>{this._handleDeleteCard(this._cardElement)})),this._cardElement.querySelector(".cards__image").addEventListener("click",(()=>{this._handleImageClick(this._cardImageEl.src,this._cardImageEl.alt,this._cardTitleEl.textContent)}))}_handleLikeIcon=()=>{this._likeButton.classList.toggle("cards__like-button_active"),this._handleLikes(this._isLiked,this._id)};_isLiked(){return this._isLiked}_renderLikes(){this._isLiked?this._likeButton.classList.add("cards__like-button_active"):this._likeButton.classList.remove("cards__like-button_active")}deleteCard(e){e.remove(),e=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".cards__card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".cards__like-button"),this._cardImageEl=this._cardElement.querySelector(".cards__image"),this._cardTitleEl=this._cardElement.querySelector(".cards__image-title"),this._setEventListeners(),this._renderLikes(),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardElement.id=this._id,this._cardElement}}class t{constructor(e,t){this._settings=e,this._formElement=t,this._inputElements=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_enableButton(){this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1}_disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetFormValidation(){this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),this._setEventListeners()}close(){this._popupElement.classList.remove("modal_opened"),this._removeEventListeners()}_setEventListeners(){document.addEventListener("keydown",this.handleEscClose),this._popupElement.addEventListener("mousedown",this.handleClickOverlay),this._closeButton.addEventListener("mousedown",this.handleCloseButton)}_removeEventListeners(){document.removeEventListener("keydown",this.handleEscClose),this._popupElement.removeEventListener("mousedown",this.handleClickOverlay),this._closeButton.removeEventListener("mousedown",this.handleCloseButton)}handleEscClose=e=>{"Escape"===e.key&&this.close()};handleClickOverlay=e=>{e.target.classList.contains("modal")&&this.close()};handleCloseButton=()=>{this.close()}}class i extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputFields=[...this._popupElement.querySelectorAll(".modal__input")],this._submitButton=this._popupForm.querySelector(".modal__button")}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}open(){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener)}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())};_loadingButtonCallback(){this._submitButton.textContent="Saving..."}}const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},n=document.querySelector(".profile__edit-button"),o=document.querySelector("[name='name']"),a=document.querySelector("[name='title']"),l=document.forms["profile-form"],d=document.querySelector(".profile__add-button"),c=document.forms["add-card-form"],h=document.querySelector(".profile__image"),_=document.forms["profile-picture-form"],u=document.querySelector("#delete-card-modal").querySelector(".modal__form"),m=new class{constructor(e){this._options=e}_processResponse=e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`);getInitialCards(){return fetch(`${this._options.baseUrl}/cards`,{headers:this._options.headers}).then(this._processResponse)}getUserInfo(){return fetch(`${this._options.baseUrl}/users/me`,{headers:this._options.headers}).then(this._processResponse)}saveUserData(e){let{name:t,about:s}=e;return fetch(`${this._options.baseUrl}/users/me`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({name:t,about:s})})}saveUserImage(e){let{avatar:t}=e;return fetch(`${this._options.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({avatar:t})})}addNewCard(e,t){return fetch(`${this._options.baseUrl}/cards`,{method:"POST",headers:this._options.headers,body:JSON.stringify({name:e,link:t})}).then(this._processResponse)}deleteCard(e){return fetch(`${this._options.baseUrl}/cards/${e}`,{method:"DELETE",headers:this._options.headers}).then(this._processResponse)}addLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._options.headers}).then(this._processResponse)}deleteLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._options.headers}).then(this._processResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"cb2e37e6-748b-43dc-a993-c3836c3f06a0","Content-Type":"application/json"}});m.getInitialCards().then((e=>{e.forEach((e=>{f.renderItems(e)}))})).catch((e=>{console.error(e)})),m.getUserInfo().then((e=>{p.setUserInfo(e.name,e.about),p.setAvatar(e.avatar)})).catch((e=>{console.error(e)}));const p=new class{constructor(e){let{profileName:t,profileTitle:s,profileImage:i}=e;this._profileName=document.querySelector(t),this._profileTitle=document.querySelector(s),this._profilePicture=document.querySelector(i)}getUserInfo(){return this._profileInfo={name:this._profileName.textContent,title:this._profileTitle.textContent,avatar:this._profilePicture.src},this._profileInfo}setUserInfo(e,t){this._profileName.textContent=e,this._profileTitle.textContent=t}setAvatar(e){this._profilePicture.src=e}}({profileName:".profile__title",profileTitle:".profile__subtitle",profileImage:".profile__image"}),f=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){const t=this._renderer(e);this._container.append(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:t=>new e(t,"#cards__card",q,I,U).getView()},".cards"),E=new e({},"#cards__card",q,I,U),v=new t(r,c),b=new t(r,l),S=new t(r,_);v.enableValidation(),b.enableValidation(),S.enableValidation();const L=new i("#add-card-modal",(e=>{B(c,"Saving..."),m.addNewCard(e.title,e.url).then((e=>f.addItem(e))).then((()=>{c.reset(),v.resetFormValidation(),L.close()})).catch((e=>{console.error(e)})).finally((()=>w(c,"Create")))})),g=new i("#profile-edit-modal",(e=>{B(l,"Saving..."),m.saveUserData({name:e.name,about:e.title}).then((()=>m.getUserInfo())).then((e=>{p.setUserInfo(e.name,e.about),l.reset(),g.close()})).catch((e=>{console.error(e)})).finally((()=>w(l,"Save")))})),y=new i("#profile-picture-modal",(e=>{B(_,"Saving..."),m.saveUserImage({avatar:e.url}).then((()=>m.getUserInfo())).then((e=>{p.setAvatar(e.avatar),_.reset(),S.resetFormValidation(),y.close()})).catch((e=>{console.error(e)})).finally((()=>w(_,"Save")))})),k=new class extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t}open(e){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener),this._element=e}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._element)}}("#delete-card-modal",(e=>{B(u,"Removing Card..."),m.deleteCard(e.id).then((()=>{E.deleteCard(e),k.close()})).catch((e=>{console.error(e)})).finally((()=>w(u,"Yes")))})),C=new class extends s{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__open-picture"),this._imageTitle=this._popupElement.querySelector(".modal__footer")}open(e,t,s){this._image.src=e,this._image.alt=t,this._imageTitle.textContent=s,super.open()}}("#open-picture-modal");function I(e){k.open(e)}function q(e,t,s){C.open(e,t,s)}function B(e,t){e.querySelector(".modal__button").textContent=t}function w(e,t){e.querySelector(".modal__button").textContent=t}function U(e,t){e?m.deleteLike(t).catch((e=>{console.error(e)})):m.addLike(t).catch((e=>{console.error(e)}))}n.addEventListener("click",(()=>{!function(){const e=p.getUserInfo();o.value=e.name,a.value=e.title}(),b.resetFormValidation(),g.open()})),d.addEventListener("click",(()=>L.open())),h.addEventListener("click",(()=>y.open()))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUcsT0FBT0MsSUFDckJDLFFBQVFDLE1BQU1GLEVBQUksR0FHeEIsQ0FJQTVDLEVBQWtCbEYsaUJBQWlCLFNBQVMsTUE5QjVDLFdBQ0UsTUFBTTJLLEVBQWMxQyxFQUFnQnRCLGNBQ3BDeEIsRUFBa0JOLE1BQVE4RixFQUFZekwsS0FDdENrRyxFQUFxQlAsTUFBUThGLEVBQVloQyxLQUMzQyxDQTJCRWlDLEdBQ0FsQixFQUFxQnhHLHNCQUNyQmlILEVBQWExRyxNQUFNLElBR3JCOEIsRUFBY3ZGLGlCQUFpQixTQUFTLElBQU00SixFQUFhbkcsU0FFM0RnQyxFQUFzQnpGLGlCQUFpQixTQUFTLElBQzlDb0ssRUFBb0IzRyxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcbiAgICBoYW5kbGVMaWtlc1xuICApIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZXMgPSBoYW5kbGVMaWtlcztcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBMaWtlIEJ1dHRvblxuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZUljb24pO1xuXG4gICAgLy8gRGVsZXRlIEJ1dHRvblxuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzLl9jYXJkRWxlbWVudCk7XG4gICAgICB9KTtcblxuICAgIC8vIEltYWdlXG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2ltYWdlXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayhcbiAgICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMsXG4gICAgICAgICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0LFxuICAgICAgICAgIHRoaXMuX2NhcmRUaXRsZUVsLnRleHRDb250ZW50XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlSWNvbiA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VzKHRoaXMuX2lzTGlrZWQsIHRoaXMuX2lkKTtcbiAgfTtcblxuICBfaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNMaWtlZDtcbiAgfVxuXG4gIF9yZW5kZXJMaWtlcygpIHtcbiAgICBpZiAodGhpcy5faXNMaWtlZCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRFbGVtZW50KSB7XG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19jYXJkXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2VcIik7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19pbWFnZS10aXRsZVwiKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LmlkID0gdGhpcy5faWQ7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxuICAgIF07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWwuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Rm9ybVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsaWNrT3ZlcmxheSk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrT3ZlcmxheVxuICAgICk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIGhhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUNsaWNrT3ZlcmxheSA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQ2xvc2VCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRGaWVsZHMgPSBbXG4gICAgICAuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIiksXG4gICAgXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dEZpZWxkcy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuaGFuZGxlU3VibWl0TGlzdGVuZXIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZVN1Ym1pdExpc3RlbmVyKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdExpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gIH07XG5cbiAgX2xvYWRpbmdCdXR0b25DYWxsYmFjaygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICB9XG59XG4iLCIvLyBFbGVtZW50cyAvL1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSduYW1lJ11cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3RpdGxlJ11cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5cbmV4cG9ydCBjb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiYWRkLWNhcmQtZm9ybVwiXTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQaWN0dXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1waWN0dXJlLWZvcm1cIl07XG5cbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtbW9kYWxcIik7XG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyZEZvcm1FbGVtZW50ID1cbiAgZGVsZXRlQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZU1vZGFsVGl0bGUsXG4gIHByb2ZpbGVNb2RhbFN1YnRpdGxlLFxuICBwcm9maWxlRm9ybUVsZW1lbnQsXG4gIGFkZENhcmRCdXR0b24sXG4gIGFkZENhcmRGb3JtRWxlbWVudCxcbiAgcHJvZmlsZVBpY3R1cmVFbGVtZW50LFxuICBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50LFxuICBkZWxldGVDYXJkRm9ybUVsZW1lbnQsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybURlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanNcIjtcblxuLy8gQXBpIC8vXG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJjYjJlMzdlNi03NDhiLTQzZGMtYTk5My1jMzgzNmMzZjA2YTBcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQpID0+IHtcbiAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKHJlc3VsdCk7XG4gICAgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICB1c2VySW5mb3JtYXRpb24uc2V0VXNlckluZm8ocmVzdWx0Lm5hbWUsIHJlc3VsdC5hYm91dCk7XG4gICAgdXNlckluZm9ybWF0aW9uLnNldEF2YXRhcihyZXN1bHQuYXZhdGFyKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG4vLyBVc2VySW5mbyAvL1xuXG5leHBvcnQgY29uc3QgdXNlckluZm9ybWF0aW9uID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIHByb2ZpbGVUaXRsZTogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcbiAgcHJvZmlsZUltYWdlOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbi8vIFNlY3Rpb24gLy9cblxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IENhcmQoXG4gICAgICAgIGNhcmRJdGVtLFxuICAgICAgICBcIiNjYXJkc19fY2FyZFwiLFxuICAgICAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgICAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICAgICAgaGFuZGxlTGlrZXNcbiAgICAgICkuZ2V0VmlldygpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzXCJcbik7XG5cbmNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAge30sXG4gIFwiI2NhcmRzX19jYXJkXCIsXG4gIGhhbmRsZUltYWdlQ2xpY2ssXG4gIGhhbmRsZURlbGV0ZUNsaWNrLFxuICBoYW5kbGVMaWtlc1xuKTtcblxuLy8gRm9ybSBWYWxpZGF0aW9uIC8vXG5cbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBhZGRDYXJkRm9ybUVsZW1lbnQpO1xuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVGb3JtRWxlbWVudCk7XG5jb25zdCBwcm9maWxlUGljdHVyZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgY29uZmlnLFxuICBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50XG4pO1xuXG5hZGRDYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlUGljdHVyZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyBQb3B1cCBXaXRoIEZvcm0gLy9cblxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjYWRkLWNhcmQtbW9kYWxcIiwgKGlucHV0RGF0YSkgPT4ge1xuICBsb2FkaW5nQnV0dG9uQ2FsbGJhY2soYWRkQ2FyZEZvcm1FbGVtZW50LCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoaW5wdXREYXRhLnRpdGxlLCBpbnB1dERhdGEudXJsKVxuICAgIC50aGVuKChyZXN1bHQpID0+IGNhcmRMaXN0LmFkZEl0ZW0ocmVzdWx0KSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBhZGRDYXJkRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICAgIGFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcbiAgICAgIG5ld0NhcmRQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IG9ubG9hZEJ1dHRvblJlc2V0KGFkZENhcmRGb3JtRWxlbWVudCwgXCJDcmVhdGVcIikpO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLCAoaW5wdXREYXRhKSA9PiB7XG4gIGxvYWRpbmdCdXR0b25DYWxsYmFjayhwcm9maWxlRm9ybUVsZW1lbnQsIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuc2F2ZVVzZXJEYXRhKHsgbmFtZTogaW5wdXREYXRhLm5hbWUsIGFib3V0OiBpbnB1dERhdGEudGl0bGUgfSlcbiAgICAudGhlbigoKSA9PiBhcGkuZ2V0VXNlckluZm8oKSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICB1c2VySW5mb3JtYXRpb24uc2V0VXNlckluZm8ocmVzdWx0Lm5hbWUsIHJlc3VsdC5hYm91dCk7XG4gICAgICBwcm9maWxlRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IG9ubG9hZEJ1dHRvblJlc2V0KHByb2ZpbGVGb3JtRWxlbWVudCwgXCJTYXZlXCIpKTtcbn0pO1xuXG5jb25zdCBwcm9maWxlUGljdHVyZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtcGljdHVyZS1tb2RhbFwiLFxuICAoaW5wdXREYXRhKSA9PiB7XG4gICAgbG9hZGluZ0J1dHRvbkNhbGxiYWNrKHByb2ZpbGVQaWN0dXJlRm9ybUVsZW1lbnQsIFwiU2F2aW5nLi4uXCIpO1xuICAgIGFwaVxuICAgICAgLnNhdmVVc2VySW1hZ2UoeyBhdmF0YXI6IGlucHV0RGF0YS51cmwgfSlcbiAgICAgIC50aGVuKCgpID0+IGFwaS5nZXRVc2VySW5mbygpKVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB1c2VySW5mb3JtYXRpb24uc2V0QXZhdGFyKHJlc3VsdC5hdmF0YXIpO1xuICAgICAgICBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgICAgIHByb2ZpbGVQaWN0dXJlRm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XG4gICAgICAgIHByb2ZpbGVQaWN0dXJlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gb25sb2FkQnV0dG9uUmVzZXQocHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudCwgXCJTYXZlXCIpKTtcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcHVwID0gbmV3IFBvcHVwQ29uZmlybURlbGV0ZShcbiAgXCIjZGVsZXRlLWNhcmQtbW9kYWxcIixcbiAgKGVsZW1lbnQpID0+IHtcbiAgICBsb2FkaW5nQnV0dG9uQ2FsbGJhY2soZGVsZXRlQ2FyZEZvcm1FbGVtZW50LCBcIlJlbW92aW5nIENhcmQuLi5cIik7XG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChlbGVtZW50LmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoZWxlbWVudCk7XG4gICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IG9ubG9hZEJ1dHRvblJlc2V0KGRlbGV0ZUNhcmRGb3JtRWxlbWVudCwgXCJZZXNcIikpO1xuICB9XG4pO1xuXG4vLyBQb3B1cCBXaXRoIEltYWdlIC8vXG5cbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjb3Blbi1waWN0dXJlLW1vZGFsXCIpO1xuXG4vLyBGdW5jdGlvbnMgLy9cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZEVsZW1lbnQpIHtcbiAgZGVsZXRlUG9wdXAub3BlbihjYXJkRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soc3JjLCBhbHQsIHRpdGxlKSB7XG4gIGltYWdlUG9wdXAub3BlbihzcmMsIGFsdCwgdGl0bGUpO1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gdXNlckluZm9ybWF0aW9uLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVNb2RhbFRpdGxlLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcbiAgcHJvZmlsZU1vZGFsU3VidGl0bGUudmFsdWUgPSBwcm9maWxlSW5mby50aXRsZTtcbn1cblxuZnVuY3Rpb24gbG9hZGluZ0J1dHRvbkNhbGxiYWNrKGZvcm1FbGVtZW50LCB0ZXh0KSB7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG4gIGJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xufVxuXG5mdW5jdGlvbiBvbmxvYWRCdXR0b25SZXNldChmb3JtRWxlbWVudCwgdGV4dCkge1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICBidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZXMoaXNMaWtlZCwgaWQpIHtcbiAgaWYgKGlzTGlrZWQpIHtcbiAgICBhcGkuZGVsZXRlTGlrZShpZCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGFwaS5hZGRMaWtlKGlkKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gRXZlbnQgTGlzdGVuZXJzIC8vXG5cbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGZpbGxQcm9maWxlRm9ybSgpO1xuICBwcm9maWxlRm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KTtcblxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gbmV3Q2FyZFBvcHVwLm9wZW4oKSk7XG5cbnByb2ZpbGVQaWN0dXJlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgcHJvZmlsZVBpY3R1cmVQb3B1cC5vcGVuKClcbik7XG4iLCJpbXBvcnQgeyBjYXJkTGlzdCwgdXNlckluZm9ybWF0aW9uIH0gZnJvbSBcIi4uL3BhZ2VzL2luZGV4LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIF9wcm9jZXNzUmVzcG9uc2UgPSAocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfTtcblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgc2F2ZVVzZXJEYXRhKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9vcHRpb25zLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgc2F2ZVVzZXJJbWFnZSh7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9vcHRpb25zLmJhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9wYWdlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVUaXRsZSwgcHJvZmlsZUltYWdlIH0pIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWUpO1xuICAgIHRoaXMuX3Byb2ZpbGVUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVRpdGxlKTtcbiAgICB0aGlzLl9wcm9maWxlUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUltYWdlKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHRoaXMuX3Byb2ZpbGVJbmZvID0ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICB0aXRsZTogdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlUGljdHVyZS5zcmMsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5fcHJvZmlsZUluZm87XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCB0aXRsZSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgfVxuXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcbiAgICB0aGlzLl9wcm9maWxlUGljdHVyZS5zcmMgPSBhdmF0YXI7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGl0ZW1Db250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpdGVtQ29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbXMpO1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cENvbmZpcm1EZWxldGUgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBvcGVuKGVsZW1lbnQpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5oYW5kbGVTdWJtaXRMaXN0ZW5lcik7XG4gICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuaGFuZGxlU3VibWl0TGlzdGVuZXIpO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0TGlzdGVuZXIgPSAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9lbGVtZW50KTtcbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19vcGVuLXBpY3R1cmVcIik7XG4gICAgdGhpcy5faW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb290ZXJcIik7XG4gIH1cblxuICBvcGVuKHNyYywgYWx0LCB0aXRsZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHNyYztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBhbHQ7XG4gICAgdGhpcy5faW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VzIiwibmFtZSIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlcyIsIl9pc0xpa2VkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9jYXJkSW1hZ2VFbCIsInNyYyIsImFsdCIsIl9jYXJkVGl0bGVFbCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX3JlbmRlckxpa2VzIiwiYWRkIiwicmVtb3ZlIiwiZGVsZXRlQ2FyZCIsImNhcmRFbGVtZW50IiwiZ2V0VmlldyIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImlkIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJfZW5hYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2Rpc2FibGVCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiZXZ0IiwicmVzZXRGb3JtVmFsaWRhdGlvbiIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdXR0b24iLCJvcGVuIiwiY2xvc2UiLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJoYW5kbGVFc2NDbG9zZSIsImhhbmRsZUNsaWNrT3ZlcmxheSIsImhhbmRsZUNsb3NlQnV0dG9uIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsImV2ZW50IiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RmllbGRzIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiaGFuZGxlU3VibWl0TGlzdGVuZXIiLCJfbG9hZGluZ0J1dHRvbkNhbGxiYWNrIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlTW9kYWxUaXRsZSIsInByb2ZpbGVNb2RhbFN1YnRpdGxlIiwicHJvZmlsZUZvcm1FbGVtZW50IiwiZm9ybXMiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZEZvcm1FbGVtZW50IiwicHJvZmlsZVBpY3R1cmVFbGVtZW50IiwicHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudCIsImRlbGV0ZUNhcmRGb3JtRWxlbWVudCIsImFwaSIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsIl9wcm9jZXNzUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJiYXNlVXJsIiwiaGVhZGVycyIsInRoZW4iLCJnZXRVc2VySW5mbyIsInNhdmVVc2VyRGF0YSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJzYXZlVXNlckltYWdlIiwiX3JlZjIiLCJhdmF0YXIiLCJhZGROZXdDYXJkIiwiYWRkTGlrZSIsImRlbGV0ZUxpa2UiLCJhdXRob3JpemF0aW9uIiwicmVzdWx0cyIsInJlc3VsdCIsImNhcmRMaXN0IiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInVzZXJJbmZvcm1hdGlvbiIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlSW1hZ2UiLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZVRpdGxlIiwiX3Byb2ZpbGVQaWN0dXJlIiwiX3Byb2ZpbGVJbmZvIiwidGl0bGUiLCJpdGVtQ29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJhcHBlbmQiLCJhZGRJdGVtIiwiaXRlbSIsInByZXBlbmQiLCJjYXJkSXRlbSIsImhhbmRsZURlbGV0ZUNsaWNrIiwiY2FyZCIsImFkZENhcmRGb3JtVmFsaWRhdG9yIiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJwcm9maWxlUGljdHVyZUZvcm1WYWxpZGF0b3IiLCJuZXdDYXJkUG9wdXAiLCJpbnB1dERhdGEiLCJsb2FkaW5nQnV0dG9uQ2FsbGJhY2siLCJ1cmwiLCJyZXNldCIsImZpbmFsbHkiLCJvbmxvYWRCdXR0b25SZXNldCIsInByb2ZpbGVQb3B1cCIsInByb2ZpbGVQaWN0dXJlUG9wdXAiLCJkZWxldGVQb3B1cCIsIl9lbGVtZW50IiwiaW1hZ2VQb3B1cCIsIl9pbWFnZSIsIl9pbWFnZVRpdGxlIiwidGV4dCIsInByb2ZpbGVJbmZvIiwiZmlsbFByb2ZpbGVGb3JtIl0sInNvdXJjZVJvb3QiOiIifQ==