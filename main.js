!function(){"use strict";var e={d:function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{hi:function(){return m},le:function(){return f},is:function(){return p}});class t{constructor(e,t,s,i){let{name:n,link:r,_id:o,isLiked:a}=e;this._name=n,this._link=r,this._id=o,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteCard=i,this._isLiked=a}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeIcon),this._cardElement.querySelector(".cards__delete-button").addEventListener("click",(()=>{this._handleDeleteCard(this._cardElement)})),this._cardElement.querySelector(".cards__image").addEventListener("click",(()=>{this._handleImageClick(this._cardImageEl.src,this._cardImageEl.alt,this._cardTitleEl.textContent)}))}_handleLikeIcon=()=>{this._likeButton.classList.toggle("cards__like-button_active"),this._likeButton.classList.contains("cards__like-button_active")?m.addLike(this._id):m.deleteLike(this._id)};_getIsLiked(){!0===this._isLiked?this._likeButton.classList.add("cards__like-button_active"):this._likeButton.classList.remove("cards__like-button_active")}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".cards__card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".cards__like-button"),this._cardImageEl=this._cardElement.querySelector(".cards__image"),this._cardTitleEl=this._cardElement.querySelector(".cards__image-title"),this._setEventListeners(),this._getIsLiked(),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardElement.id=this._id,this._cardElement}}class s{constructor(e,t){this._settings=e,this._formElement=t,this._inputElements=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_enableButton(){this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1}_disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetFormValidation(){this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class i{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),this._setEventListeners()}close(){this._popupElement.classList.remove("modal_opened"),this._removeEventListeners()}_setEventListeners(){document.addEventListener("keydown",this.handleEscClose),this._popupElement.addEventListener("mousedown",this.handleClickOverlay),this._closeButton.addEventListener("mousedown",this.handleCloseButton)}_removeEventListeners(){document.removeEventListener("keydown",this.handleEscClose),this._popupElement.removeEventListener("mousedown",this.handleClickOverlay),this._closeButton.removeEventListener("mousedown",this.handleCloseButton)}handleEscClose=e=>{"Escape"===e.key&&this.close()};handleClickOverlay=e=>{e.target.classList.contains("modal")&&this.close()};handleCloseButton=()=>{this.close()}}class n extends i{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputFields=[...this._popupElement.querySelectorAll(".modal__input")],this._submitButton=this._popupForm.querySelector(".modal__button")}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}open(){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener)}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()).onload=this._loadingButtonCallback};_loadingButtonCallback(){this._submitButton.textContent="Saving..."}}const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=document.querySelector(".profile__edit-button"),a=document.querySelector("[name='name']"),l=document.querySelector("[name='title']"),d=document.forms["profile-form"],c=document.querySelector(".profile__add-button"),h=document.forms["add-card-form"],u=document.querySelector(".profile__image"),_=document.forms["profile-picture-form"],m=new class{constructor(e){this._options=e}getInitialCards(){return fetch(`${this._options.baseUrl}/cards`,{headers:this._options.headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).then((e=>{e.forEach((e=>{f.renderItems(e)}))})).catch((e=>{console.error(e)}))}getUserInfo(){return fetch(`${this._options.baseUrl}/users/me`,{headers:this._options.headers}).then((e=>e.json())).then((e=>{p.setUserInfo(e.name,e.about,e.avatar)})).catch((e=>{console.error(e)}))}saveUserData(e){let{name:t,about:s}=e;return fetch(`${this._options.baseUrl}/users/me`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({name:t,about:s})})}saveUserImage(e){let{avatar:t}=e;return fetch(`${this._options.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({avatar:t})})}addNewCard(e,t){return fetch(`${this._options.baseUrl}/cards`,{method:"POST",headers:this._options.headers,body:JSON.stringify({name:e,link:t})})}deleteCard(e){return fetch(`${this._options.baseUrl}/cards/${e}`,{method:"DELETE",headers:this._options.headers})}addLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._options.headers})}deleteLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._options.headers})}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"cb2e37e6-748b-43dc-a993-c3836c3f06a0","Content-Type":"application/json"}});m.getInitialCards(),m.getUserInfo();const p=new class{constructor(e){let{profileName:t,profileTitle:s,profileImage:i}=e;this._profileName=document.querySelector(t),this._profileTitle=document.querySelector(s),this._profilePicture=document.querySelector(i)}getUserInfo(){return this._profileInfo={name:this._profileName.textContent,title:this._profileTitle.textContent,avatar:this._profilePicture.src},this._profileInfo}setUserInfo(e,t,s){this._profileName.textContent=e,this._profileTitle.textContent=t,this._profilePicture.src=s}}({profileName:".profile__title",profileTitle:".profile__subtitle",profileImage:".profile__image"}),f=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){const t=this._renderer(e);this._container.append(t)}}({renderer:e=>new t(e,"#cards__card",I,C).getView()},".cards"),E=new s(r,h),v=new s(r,d),b=new s(r,_);E.enableValidation(),v.enableValidation(),b.enableValidation();const g=new n("#add-card-modal",(e=>{B(h),m.addNewCard(e.title,e.url).then((()=>location.reload(!0))).then((()=>{h.reset(),E.resetFormValidation(),g.close(),q(h,"Create")}))})),S=new n("#profile-edit-modal",(e=>{B(d),m.saveUserData({name:e.name,about:e.title}).then((()=>m.getUserInfo())).then((()=>{d.reset(),S.close(),q(d,"Save")}))})),L=new n("#profile-picture-modal",(e=>{B(_),m.saveUserImage({avatar:e.url}).then((()=>m.getUserInfo())).then((()=>{_.reset(),b.resetFormValidation(),L.close(),q(_,"Save")}))})),y=new class extends i{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t}open(e){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener),this._element=e}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._element)}}("#delete-card-modal",(e=>{m.deleteCard(e.id),e.remove(),e=null,y.close()})),k=new class extends i{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__open-picture"),this._imageTitle=this._popupElement.querySelector(".modal__footer")}open(e,t,s){this._image.src=e,this._image.alt=t,this._imageTitle.textContent=s,super.open()}}("#open-picture-modal");function C(e){y.open(e)}function I(e,t,s){k.open(e,t,s)}function B(e){e.querySelector(".modal__button").textContent="Saving..."}function q(e,t){e.querySelector(".modal__button").textContent=t}o.addEventListener("click",(()=>{!function(){const e=p.getUserInfo();a.value=e.name,l.value=e.title}(),v.resetFormValidation(),S.open()})),c.addEventListener("click",(()=>g.open())),u.addEventListener("click",(()=>L.open()))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtpSSxHQUNiaEosS0FBSzJLLE9BQU83SixJQUFNQSxFQUNsQmQsS0FBSzJLLE9BQU81SixJQUFNQSxFQUNsQmYsS0FBSzRLLFlBQVkzSixZQUFjK0gsRUFDL0JqRSxNQUFNWCxNQUNSLEdMK0dvQyx1QkFJdEMsU0FBU3NGLEVBQWtCbUIsR0FDekJMLEVBQVlwRyxLQUFLeUcsRUFDbkIsQ0FFQSxTQUFTbkwsRUFBaUJvQixFQUFLQyxFQUFLaUksR0FDbEMwQixFQUFXdEcsS0FBS3RELEVBQUtDLEVBQUtpSSxFQUM1QixDQVFBLFNBQVNnQixFQUFzQjlILEdBQ1BBLEVBQVl0QixjQUFjLGtCQUNsQ0ssWUFBYyxXQUM5QixDQUVBLFNBQVNvSixFQUFrQm5JLEVBQWE0SSxHQUNoQjVJLEVBQVl0QixjQUFjLGtCQUNsQ0ssWUFBYzZKLENBQzlCLENBSUFsRixFQUFrQm5GLGlCQUFpQixTQUFTLE1BbEI1QyxXQUNFLE1BQU1zSyxFQUFjcEQsRUFBZ0JELGNBQ3BDN0IsRUFBa0JQLE1BQVF5RixFQUFZbkwsS0FDdENrRyxFQUFxQlIsTUFBUXlGLEVBQVkvQixLQUMzQyxDQWVFZ0MsR0FDQXBCLEVBQXFCL0Ysc0JBQ3JCeUcsRUFBYWxHLE1BQU0sSUFHckI2QixFQUFjeEYsaUJBQWlCLFNBQVMsSUFBTXFKLEVBQWExRixTQUUzRCtCLEVBQXNCMUYsaUJBQWlCLFNBQVMsSUFDOUM4SixFQUFvQm5HLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3BhZ2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB7IG5hbWUsIGxpbmssIF9pZCwgaXNMaWtlZCB9LFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNhcmRcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgdGhpcy5fbGluayA9IGxpbms7XG4gICAgdGhpcy5faWQgPSBfaWQ7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQgPSBoYW5kbGVEZWxldGVDYXJkO1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vIExpa2UgQnV0dG9uXG5cbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlSWNvbik7XG5cbiAgICAvLyBEZWxldGUgQnV0dG9uXG5cbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2RlbGV0ZS1idXR0b25cIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKHRoaXMuX2NhcmRFbGVtZW50KTtcbiAgICAgIH0pO1xuXG4gICAgLy8gSW1hZ2VcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKFxuICAgICAgICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyxcbiAgICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQsXG4gICAgICAgICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uID0gKCkgPT4ge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRzX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY2FyZHNfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKSkge1xuICAgICAgYXBpLmFkZExpa2UodGhpcy5faWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkuZGVsZXRlTGlrZSh0aGlzLl9pZCk7XG4gICAgfVxuICB9O1xuXG4gIF9nZXRJc0xpa2VkKCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2UtdGl0bGVcIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2dldElzTGlrZWQoKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LmlkID0gdGhpcy5faWQ7XG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMgPSBbXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpLFxuICAgIF07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWwuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxlbWVudHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxlbWVudHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlc2V0Rm9ybVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsaWNrT3ZlcmxheSk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUVzY0Nsb3NlKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrT3ZlcmxheVxuICAgICk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZUNsb3NlQnV0dG9uKTtcbiAgfVxuXG4gIGhhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUNsaWNrT3ZlcmxheSA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlQ2xvc2VCdXR0b24gPSAoKSA9PiB7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRGaWVsZHMgPSBbXG4gICAgICAuLi50aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIiksXG4gICAgXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG5cbiAgICB0aGlzLl9pbnB1dEZpZWxkcy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuaGFuZGxlU3VibWl0TGlzdGVuZXIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZVN1Ym1pdExpc3RlbmVyKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdExpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSkub25sb2FkID1cbiAgICAgIHRoaXMuX2xvYWRpbmdCdXR0b25DYWxsYmFjaztcbiAgfTtcblxuICBfbG9hZGluZ0J1dHRvbkNhbGxiYWNrKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7XG4gIH1cbn1cbiIsIi8vIEVsZW1lbnRzIC8vXG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J25hbWUnXVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlTW9kYWxTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0ndGl0bGUnXVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXTtcblxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJhZGQtY2FyZC1mb3JtXCJdO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZVBpY3R1cmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLXBpY3R1cmUtZm9ybVwiXTtcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQge1xuICBjb25maWcsXG4gIHByb2ZpbGVFZGl0QnV0dG9uLFxuICBwcm9maWxlTW9kYWxUaXRsZSxcbiAgcHJvZmlsZU1vZGFsU3VidGl0bGUsXG4gIHByb2ZpbGVGb3JtRWxlbWVudCxcbiAgYWRkQ2FyZEJ1dHRvbixcbiAgYWRkQ2FyZEZvcm1FbGVtZW50LFxuICBwcm9maWxlUGljdHVyZUVsZW1lbnQsXG4gIHByb2ZpbGVQaWN0dXJlRm9ybUVsZW1lbnQsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwQ29uZmlybURlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmQuanNcIjtcblxuLy8gQXBpIC8vXG5cbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJjYjJlMzdlNi03NDhiLTQzZGMtYTk5My1jMzgzNmMzZjA2YTBcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuYXBpLmdldEluaXRpYWxDYXJkcygpO1xuYXBpLmdldFVzZXJJbmZvKCk7XG5cbi8vIFVzZXJJbmZvIC8vXG5cbmV4cG9ydCBjb25zdCB1c2VySW5mb3JtYXRpb24gPSBuZXcgVXNlckluZm8oe1xuICBwcm9maWxlTmFtZTogXCIucHJvZmlsZV9fdGl0bGVcIixcbiAgcHJvZmlsZVRpdGxlOiBcIi5wcm9maWxlX19zdWJ0aXRsZVwiLFxuICBwcm9maWxlSW1hZ2U6IFwiLnByb2ZpbGVfX2ltYWdlXCIsXG59KTtcblxuLy8gU2VjdGlvbiAvL1xuXG5leHBvcnQgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoY2FyZEl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBuZXcgQ2FyZChcbiAgICAgICAgY2FyZEl0ZW0sXG4gICAgICAgIFwiI2NhcmRzX19jYXJkXCIsXG4gICAgICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgICAgIGhhbmRsZURlbGV0ZUNsaWNrXG4gICAgICApLmdldFZpZXcoKTtcbiAgICB9LFxuICB9LFxuICBcIi5jYXJkc1wiXG4pO1xuXG4vLyBGb3JtIFZhbGlkYXRpb24gLy9cblxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGFkZENhcmRGb3JtRWxlbWVudCk7XG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUZvcm1FbGVtZW50KTtcbmNvbnN0IHByb2ZpbGVQaWN0dXJlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBjb25maWcsXG4gIHByb2ZpbGVQaWN0dXJlRm9ybUVsZW1lbnRcbik7XG5cbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbnByb2ZpbGVQaWN0dXJlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIFBvcHVwIFdpdGggRm9ybSAvL1xuXG5jb25zdCBuZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtY2FyZC1tb2RhbFwiLCAoaW5wdXREYXRhKSA9PiB7XG4gIGxvYWRpbmdCdXR0b25DYWxsYmFjayhhZGRDYXJkRm9ybUVsZW1lbnQpO1xuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChpbnB1dERhdGEudGl0bGUsIGlucHV0RGF0YS51cmwpXG4gICAgLnRoZW4oKCkgPT4gbG9jYXRpb24ucmVsb2FkKHRydWUpKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGFkZENhcmRGb3JtRWxlbWVudC5yZXNldCgpO1xuICAgICAgYWRkQ2FyZEZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xuICAgICAgbmV3Q2FyZFBvcHVwLmNsb3NlKCk7XG4gICAgICBvbmxvYWRCdXR0b25SZXNldChhZGRDYXJkRm9ybUVsZW1lbnQsIFwiQ3JlYXRlXCIpO1xuICAgIH0pO1xufSk7XG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLCAoaW5wdXREYXRhKSA9PiB7XG4gIGxvYWRpbmdCdXR0b25DYWxsYmFjayhwcm9maWxlRm9ybUVsZW1lbnQpO1xuICBhcGlcbiAgICAuc2F2ZVVzZXJEYXRhKHsgbmFtZTogaW5wdXREYXRhLm5hbWUsIGFib3V0OiBpbnB1dERhdGEudGl0bGUgfSlcbiAgICAudGhlbigoKSA9PiBhcGkuZ2V0VXNlckluZm8oKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBwcm9maWxlRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZSgpO1xuICAgICAgb25sb2FkQnV0dG9uUmVzZXQocHJvZmlsZUZvcm1FbGVtZW50LCBcIlNhdmVcIik7XG4gICAgfSk7XG59KTtcblxuY29uc3QgcHJvZmlsZVBpY3R1cmVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNwcm9maWxlLXBpY3R1cmUtbW9kYWxcIixcbiAgKGlucHV0RGF0YSkgPT4ge1xuICAgIGxvYWRpbmdCdXR0b25DYWxsYmFjayhwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50KTtcbiAgICBhcGlcbiAgICAgIC5zYXZlVXNlckltYWdlKHsgYXZhdGFyOiBpbnB1dERhdGEudXJsIH0pXG4gICAgICAudGhlbigoKSA9PiBhcGkuZ2V0VXNlckluZm8oKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgcHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudC5yZXNldCgpO1xuICAgICAgICBwcm9maWxlUGljdHVyZUZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xuICAgICAgICBwcm9maWxlUGljdHVyZVBvcHVwLmNsb3NlKCk7XG4gICAgICAgIG9ubG9hZEJ1dHRvblJlc2V0KHByb2ZpbGVQaWN0dXJlRm9ybUVsZW1lbnQsIFwiU2F2ZVwiKTtcbiAgICAgIH0pO1xuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtRGVsZXRlKFxuICBcIiNkZWxldGUtY2FyZC1tb2RhbFwiLFxuICAoZWxlbWVudCkgPT4ge1xuICAgIGFwaS5kZWxldGVDYXJkKGVsZW1lbnQuaWQpO1xuICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgZWxlbWVudCA9IG51bGw7XG4gICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgfVxuKTtcblxuLy8gUG9wdXAgV2l0aCBJbWFnZSAvL1xuXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI29wZW4tcGljdHVyZS1tb2RhbFwiKTtcblxuLy8gRnVuY3Rpb25zIC8vXG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmRFbGVtZW50KSB7XG4gIGRlbGV0ZVBvcHVwLm9wZW4oY2FyZEVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKHNyYywgYWx0LCB0aXRsZSkge1xuICBpbWFnZVBvcHVwLm9wZW4oc3JjLCBhbHQsIHRpdGxlKTtcbn1cblxuZnVuY3Rpb24gZmlsbFByb2ZpbGVGb3JtKCkge1xuICBjb25zdCBwcm9maWxlSW5mbyA9IHVzZXJJbmZvcm1hdGlvbi5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTW9kYWxUaXRsZS52YWx1ZSA9IHByb2ZpbGVJbmZvLm5hbWU7XG4gIHByb2ZpbGVNb2RhbFN1YnRpdGxlLnZhbHVlID0gcHJvZmlsZUluZm8udGl0bGU7XG59XG5cbmZ1bmN0aW9uIGxvYWRpbmdCdXR0b25DYWxsYmFjayhmb3JtRWxlbWVudCkge1xuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICBidXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbn1cblxuZnVuY3Rpb24gb25sb2FkQnV0dG9uUmVzZXQoZm9ybUVsZW1lbnQsIHRleHQpIHtcbiAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgYnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbi8vIEV2ZW50IExpc3RlbmVycyAvL1xuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBmaWxsUHJvZmlsZUZvcm0oKTtcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IucmVzZXRGb3JtVmFsaWRhdGlvbigpO1xuICBwcm9maWxlUG9wdXAub3BlbigpO1xufSk7XG5cbmFkZENhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG5ld0NhcmRQb3B1cC5vcGVuKCkpO1xuXG5wcm9maWxlUGljdHVyZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gIHByb2ZpbGVQaWN0dXJlUG9wdXAub3BlbigpXG4pO1xuIiwiaW1wb3J0IHsgY2FyZExpc3QsIHVzZXJJbmZvcm1hdGlvbiB9IGZyb20gXCIuLi9wYWdlcy9pbmRleC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcblxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgdXNlckluZm9ybWF0aW9uLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQsIHJlc3VsdC5hdmF0YXIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc2F2ZVVzZXJEYXRhKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9vcHRpb25zLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgc2F2ZVVzZXJJbWFnZSh7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIGxpbms6IGxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUxpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL3BhZ2VzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZSwgcHJvZmlsZVRpdGxlLCBwcm9maWxlSW1hZ2UgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZSk7XG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlVGl0bGUpO1xuICAgIHRoaXMuX3Byb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSW1hZ2UpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5fcHJvZmlsZUluZm8gPSB7XG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIHRpdGxlOiB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVQaWN0dXJlLnNyYyxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl9wcm9maWxlSW5mbztcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIHRpdGxlLCBpbWFnZSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICB0aGlzLl9wcm9maWxlUGljdHVyZS5zcmMgPSBpbWFnZTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgaXRlbUNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGl0ZW1Db250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihpdGVtcyk7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwQ29uZmlybURlbGV0ZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxuXG4gIG9wZW4oZWxlbWVudCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZVN1Ym1pdExpc3RlbmVyKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5oYW5kbGVTdWJtaXRMaXN0ZW5lcik7XG4gIH1cblxuICBoYW5kbGVTdWJtaXRMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2VsZW1lbnQpO1xuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX29wZW4tcGljdHVyZVwiKTtcbiAgICB0aGlzLl9pbWFnZVRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvb3RlclwiKTtcbiAgfVxuXG4gIG9wZW4oc3JjLCBhbHQsIHRpdGxlKSB7XG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gc3JjO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGFsdDtcbiAgICB0aGlzLl9pbWFnZVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNhcmQiLCJuYW1lIiwibGluayIsIl9pZCIsImlzTGlrZWQiLCJ0aGlzIiwiX25hbWUiLCJfbGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2lzTGlrZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX2NhcmRJbWFnZUVsIiwic3JjIiwiYWx0IiwiX2NhcmRUaXRsZUVsIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb250YWlucyIsImFwaSIsImFkZExpa2UiLCJkZWxldGVMaWtlIiwiX2dldElzTGlrZWQiLCJhZGQiLCJyZW1vdmUiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiaWQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yQ2xhc3MiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVyeSIsIl9lbmFibGVCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZGlzYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJldnQiLCJyZXNldEZvcm1WYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJjbG9zZSIsIl9yZW1vdmVFdmVudExpc3RlbmVycyIsImhhbmRsZUVzY0Nsb3NlIiwiaGFuZGxlQ2xpY2tPdmVybGF5IiwiaGFuZGxlQ2xvc2VCdXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RmllbGRzIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiaGFuZGxlU3VibWl0TGlzdGVuZXIiLCJvbmxvYWQiLCJfbG9hZGluZ0J1dHRvbkNhbGxiYWNrIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlTW9kYWxUaXRsZSIsInByb2ZpbGVNb2RhbFN1YnRpdGxlIiwicHJvZmlsZUZvcm1FbGVtZW50IiwiZm9ybXMiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZEZvcm1FbGVtZW50IiwicHJvZmlsZVBpY3R1cmVFbGVtZW50IiwicHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudCIsIm9wdGlvbnMiLCJfb3B0aW9ucyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiYmFzZVVybCIsImhlYWRlcnMiLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsInJlc3VsdHMiLCJyZXN1bHQiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvcm1hdGlvbiIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJhdmF0YXIiLCJzYXZlVXNlckRhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNhdmVVc2VySW1hZ2UiLCJfcmVmMiIsImFkZE5ld0NhcmQiLCJkZWxldGVDYXJkIiwiYXV0aG9yaXphdGlvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZVRpdGxlIiwicHJvZmlsZUltYWdlIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVUaXRsZSIsIl9wcm9maWxlUGljdHVyZSIsIl9wcm9maWxlSW5mbyIsInRpdGxlIiwiaW1hZ2UiLCJpdGVtQ29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJhcHBlbmQiLCJjYXJkSXRlbSIsImhhbmRsZURlbGV0ZUNsaWNrIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJwcm9maWxlRm9ybVZhbGlkYXRvciIsInByb2ZpbGVQaWN0dXJlRm9ybVZhbGlkYXRvciIsIm5ld0NhcmRQb3B1cCIsImlucHV0RGF0YSIsImxvYWRpbmdCdXR0b25DYWxsYmFjayIsInVybCIsImxvY2F0aW9uIiwicmVsb2FkIiwicmVzZXQiLCJvbmxvYWRCdXR0b25SZXNldCIsInByb2ZpbGVQb3B1cCIsInByb2ZpbGVQaWN0dXJlUG9wdXAiLCJkZWxldGVQb3B1cCIsIl9lbGVtZW50IiwiaW1hZ2VQb3B1cCIsIl9pbWFnZSIsIl9pbWFnZVRpdGxlIiwiY2FyZEVsZW1lbnQiLCJ0ZXh0IiwicHJvZmlsZUluZm8iLCJmaWxsUHJvZmlsZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9