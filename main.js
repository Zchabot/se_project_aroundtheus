!function(){"use strict";class e{constructor(e,t,s,i,r){let{name:n,link:o,_id:a,isLiked:l}=e;this._name=n,this._link=o,this._id=a,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteCard=i,this._handleLikes=r,this._isLiked=l}_setEventListeners(){this._likeButton.addEventListener("click",this._handleLikeIcon),this._cardElement.querySelector(".cards__delete-button").addEventListener("click",(()=>{this._handleDeleteCard(this)})),this._cardElement.querySelector(".cards__image").addEventListener("click",(()=>{this._handleImageClick(this._cardImageEl.src,this._cardImageEl.alt,this._cardTitleEl.textContent)}))}_handleLikeIcon=()=>{this._handleLikes(this)};_isLiked(){return this._isLiked}_renderLikes(){this._isLiked?this._likeButton.classList.add("cards__like-button_active"):this._likeButton.classList.remove("cards__like-button_active")}setIsLiked(e){this._isLiked=e,this._renderLikes()}deleteCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".cards__card").cloneNode(!0),this._likeButton=this._cardElement.querySelector(".cards__like-button"),this._cardImageEl=this._cardElement.querySelector(".cards__image"),this._cardTitleEl=this._cardElement.querySelector(".cards__image-title"),this._setEventListeners(),this._renderLikes(),this._cardTitleEl.textContent=this._name,this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardElement.id=this._id,this._cardElement}}class t{constructor(e,t){this._settings=e,this._formElement=t,this._inputElements=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(){return!this._inputElements.every((e=>e.validity.valid))}_enableButton(){this._submitButton.classList.remove(this._settings.inactiveButtonClass),this._submitButton.disabled=!1}_disableButton(){this._submitButton.classList.add(this._settings.inactiveButtonClass),this._submitButton.disabled=!0}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():this._enableButton()}_setEventListeners(){this._inputElements.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}resetFormValidation(){this._toggleButtonState(),this._inputElements.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeButton=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),this._setEventListeners()}close(){this._popupElement.classList.remove("modal_opened"),this._removeEventListeners()}_setEventListeners(){document.addEventListener("keydown",this.handleEscClose),this._popupElement.addEventListener("mousedown",this.handleClickOverlay),this._closeButton.addEventListener("mousedown",this.handleCloseButton)}_removeEventListeners(){document.removeEventListener("keydown",this.handleEscClose),this._popupElement.removeEventListener("mousedown",this.handleClickOverlay),this._closeButton.removeEventListener("mousedown",this.handleCloseButton)}handleEscClose=e=>{"Escape"===e.key&&this.close()};handleClickOverlay=e=>{e.target.classList.contains("modal")&&this.close()};handleCloseButton=()=>{this.close()}}class i extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputFields=[...this._popupElement.querySelectorAll(".modal__input")],this._submitButton=this._popupForm.querySelector(".modal__button")}_getInputValues(){const e={};return this._inputFields.forEach((t=>{e[t.name]=t.value})),e}open(){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener)}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())};renderLoading(){this._submitButton.textContent="Saving..."}resetButton(e){this._submitButton.textContent=e}}const r={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},n=document.querySelector(".profile__edit-button"),o=document.querySelector("[name='name']"),a=document.querySelector("[name='title']"),l=document.forms["profile-form"],d=document.querySelector(".profile__add-button"),h=document.forms["add-card-form"],c=document.querySelector(".profile__image"),_=document.forms["profile-picture-form"];document.querySelector("#delete-card-modal");const u=new class{constructor(e){this._options=e}_processResponse=e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`);getInitialCards(){return fetch(`${this._options.baseUrl}/cards`,{headers:this._options.headers}).then(this._processResponse)}getUserInfo(){return fetch(`${this._options.baseUrl}/users/me`,{headers:this._options.headers}).then(this._processResponse)}saveUserData(e){let{name:t,about:s}=e;return fetch(`${this._options.baseUrl}/users/me`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({name:t,about:s})}).then(this._processResponse)}saveUserImage(e){let{avatar:t}=e;return fetch(`${this._options.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._options.headers,body:JSON.stringify({avatar:t})}).then(this._processResponse)}addNewCard(e,t){return fetch(`${this._options.baseUrl}/cards`,{method:"POST",headers:this._options.headers,body:JSON.stringify({name:e,link:t})}).then(this._processResponse)}deleteCard(e){return fetch(`${this._options.baseUrl}/cards/${e}`,{method:"DELETE",headers:this._options.headers}).then(this._processResponse)}addLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._options.headers}).then(this._processResponse)}deleteLike(e){return fetch(`${this._options.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._options.headers}).then(this._processResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"cb2e37e6-748b-43dc-a993-c3836c3f06a0","Content-Type":"application/json"}});u.getInitialCards().then((e=>{p.renderItems(e)})).catch((e=>{console.error(e)})),u.getUserInfo().then((e=>{m.setUserInfo(e.name,e.about),m.setAvatar(e.avatar)})).catch((e=>{console.error(e)}));const m=new class{constructor(e){let{profileName:t,profileTitle:s,profileImage:i}=e;this._profileName=document.querySelector(t),this._profileTitle=document.querySelector(s),this._profilePicture=document.querySelector(i)}getUserInfo(){return this._profileInfo={name:this._profileName.textContent,title:this._profileTitle.textContent,avatar:this._profilePicture.src},this._profileInfo}setUserInfo(e,t){this._profileName.textContent=e,this._profileTitle.textContent=t}setAvatar(e){this._profilePicture.src=e}}({profileName:".profile__title",profileTitle:".profile__subtitle",profileImage:".profile__image"}),p=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach((e=>{const t=this._renderer(e);this._container.append(t)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}}({renderer:t=>new e(t,"#cards__card",C,y,I).getView()},".cards"),E=new t(r,h),f=new t(r,l),v=new t(r,_);E.enableValidation(),f.enableValidation(),v.enableValidation();const L=new i("#add-card-modal",(e=>{L.renderLoading(),u.addNewCard(e.title,e.url).then((e=>p.addItem(e))).then((()=>{h.reset(),E.resetFormValidation(),L.close()})).catch((e=>{console.error(e)})).finally((()=>L.resetButton("Create")))})),b=new i("#profile-edit-modal",(e=>{b.renderLoading(),u.saveUserData({name:e.name,about:e.title}).then((e=>{m.setUserInfo(e.name,e.about),l.reset(),b.close()})).catch((e=>{console.error(e)})).finally((()=>b.resetButton("Save")))})),S=new i("#profile-picture-modal",(e=>{S.renderLoading(),u.saveUserImage({avatar:e.url}).then((e=>{m.setAvatar(e.avatar),_.reset(),v.resetFormValidation(),S.close()})).catch((e=>{console.error(e)})).finally((()=>S.resetButton("Save")))})),g=new class extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._submitButton=this._popupForm.querySelector(".modal__button")}open(e){super.open(),this._popupForm.addEventListener("submit",this.handleSubmitListener),this._element=e}close(){super.close(),this._popupForm.removeEventListener("submit",this.handleSubmitListener)}handleSubmitListener=e=>{e.preventDefault(),this._handleFormSubmit(this._element)};renderLoading(){this._submitButton.textContent="Removing Card..."}resetButton(){this._submitButton.textContent="Yes"}}("#delete-card-modal",(e=>{g.renderLoading(),u.deleteCard(e._id).then((()=>{e.deleteCard(),g.close()})).catch((e=>{console.error(e)})).finally((()=>g.resetButton()))})),k=new class extends s{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__open-picture"),this._imageTitle=this._popupElement.querySelector(".modal__footer")}open(e,t,s){this._image.src=e,this._image.alt=t,this._imageTitle.textContent=s,super.open()}}("#open-picture-modal");function y(e){g.open(e)}function C(e,t,s){k.open(e,t,s)}function I(e){e._isLiked?u.deleteLike(e._id).then((t=>{e.setIsLiked(t.isLiked)})).catch((e=>{console.error(e)})):u.addLike(e._id).then((t=>{e.setIsLiked(t.isLiked)})).catch((e=>{console.error(e)}))}n.addEventListener("click",(()=>{!function(){const e=m.getUserInfo();o.value=e.name,a.value=e.title}(),f.resetFormValidation(),b.open()})),d.addEventListener("click",(()=>L.open())),c.addEventListener("click",(()=>S.open()))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBQWUsTUFBTUEsRUFDbkJDLFdBQUFBLENBQVdDLEVBRVRDLEVBQ0FDLEVBQ0FDLEVBQ0FDLEdBQ0EsSUFMQSxLQUFFQyxFQUFJLEtBQUVDLEVBQUksSUFBRUMsRUFBRyxRQUFFQyxHQUFTUixFQU01QlMsS0FBS0MsTUFBUUwsRUFDYkksS0FBS0UsTUFBUUwsRUFDYkcsS0FBS0YsSUFBTUEsRUFDWEUsS0FBS0csY0FBZ0JYLEVBQ3JCUSxLQUFLSSxrQkFBb0JYLEVBQ3pCTyxLQUFLSyxrQkFBb0JYLEVBQ3pCTSxLQUFLTSxhQUFlWCxFQUNwQkssS0FBS08sU0FBV1IsQ0FDbEIsQ0FFQVMsa0JBQUFBLEdBR0VSLEtBQUtTLFlBQVlDLGlCQUFpQixRQUFTVixLQUFLVyxpQkFJaERYLEtBQUtZLGFBQ0ZDLGNBQWMseUJBQ2RILGlCQUFpQixTQUFTLEtBQ3pCVixLQUFLSyxrQkFBa0JMLEtBQUssSUFLaENBLEtBQUtZLGFBQ0ZDLGNBQWMsaUJBQ2RILGlCQUFpQixTQUFTLEtBQ3pCVixLQUFLSSxrQkFDSEosS0FBS2MsYUFBYUMsSUFDbEJmLEtBQUtjLGFBQWFFLElBQ2xCaEIsS0FBS2lCLGFBQWFDLFlBQ25CLEdBRVAsQ0FFQVAsZ0JBQWtCQSxLQUNoQlgsS0FBS00sYUFBYU4sS0FBSyxFQUd6Qk8sUUFBQUEsR0FDRSxPQUFPUCxLQUFLTyxRQUNkLENBRUFZLFlBQUFBLEdBQ01uQixLQUFLTyxTQUNQUCxLQUFLUyxZQUFZVyxVQUFVQyxJQUFJLDZCQUUvQnJCLEtBQUtTLFlBQVlXLFVBQVVFLE9BQU8sNEJBRXRDLENBRUFDLFVBQUFBLENBQVd4QixHQUNUQyxLQUFLTyxTQUFXUixFQUNoQkMsS0FBS21CLGNBQ1AsQ0FFQUssVUFBQUEsR0FDRXhCLEtBQUtZLGFBQWFVLFNBQ2xCdEIsS0FBS1ksYUFBZSxJQUN0QixDQUVBYSxPQUFBQSxHQWdCRSxPQWZBekIsS0FBS1ksYUFBZWMsU0FDakJiLGNBQWNiLEtBQUtHLGVBQ25Cd0IsUUFBUWQsY0FBYyxnQkFDdEJlLFdBQVUsR0FFYjVCLEtBQUtTLFlBQWNULEtBQUtZLGFBQWFDLGNBQWMsdUJBQ25EYixLQUFLYyxhQUFlZCxLQUFLWSxhQUFhQyxjQUFjLGlCQUNwRGIsS0FBS2lCLGFBQWVqQixLQUFLWSxhQUFhQyxjQUFjLHVCQUVwRGIsS0FBS1EscUJBQ0xSLEtBQUttQixlQUNMbkIsS0FBS2lCLGFBQWFDLFlBQWNsQixLQUFLQyxNQUNyQ0QsS0FBS2MsYUFBYUMsSUFBTWYsS0FBS0UsTUFDN0JGLEtBQUtjLGFBQWFFLElBQU1oQixLQUFLQyxNQUM3QkQsS0FBS1ksYUFBYWlCLEdBQUs3QixLQUFLRixJQUNyQkUsS0FBS1ksWUFDZCxFQ3ZGYSxNQUFNa0IsRUFDbkJ4QyxXQUFBQSxDQUFZeUMsRUFBVUMsR0FDcEJoQyxLQUFLaUMsVUFBWUYsRUFDakIvQixLQUFLa0MsYUFBZUYsRUFDcEJoQyxLQUFLbUMsZUFBaUIsSUFDakJuQyxLQUFLa0MsYUFBYUUsaUJBQWlCcEMsS0FBS2lDLFVBQVVJLGdCQUV2RHJDLEtBQUtzQyxjQUFnQnRDLEtBQUtrQyxhQUFhckIsY0FDckNiLEtBQUtpQyxVQUFVTSxxQkFFbkIsQ0FFQUMsZUFBQUEsQ0FBZ0JDLEdBQ2QsTUFBTUMsRUFBaUIxQyxLQUFLa0MsYUFBYXJCLGNBQ3ZDLElBQUk0QixFQUFRWixZQUVkWSxFQUFRckIsVUFBVUMsSUFBSXJCLEtBQUtpQyxVQUFVVSxpQkFDckNELEVBQWV4QixZQUFjdUIsRUFBUUcsa0JBQ3JDRixFQUFldEIsVUFBVUMsSUFBSXJCLEtBQUtpQyxVQUFVWSxXQUM5QyxDQUVBQyxlQUFBQSxDQUFnQkwsR0FDZCxNQUFNQyxFQUFpQjFDLEtBQUtrQyxhQUFhckIsY0FDdkMsSUFBSTRCLEVBQVFaLFlBRWRZLEVBQVFyQixVQUFVRSxPQUFPdEIsS0FBS2lDLFVBQVVVLGlCQUN4Q0QsRUFBZXhCLFlBQWMsR0FDN0J3QixFQUFldEIsVUFBVUUsT0FBT3RCLEtBQUtpQyxVQUFVWSxXQUNqRCxDQUVBRSxtQkFBQUEsQ0FBb0JOLEdBQ2xCLElBQUtBLEVBQVFPLFNBQVNDLE1BQ3BCLE9BQU9qRCxLQUFLd0MsZ0JBQWdCQyxHQUU5QnpDLEtBQUs4QyxnQkFBZ0JMLEVBQ3ZCLENBRUFTLGdCQUFBQSxHQUNFLE9BQVFsRCxLQUFLbUMsZUFBZWdCLE9BQU9WLEdBQVlBLEVBQVFPLFNBQVNDLE9BQ2xFLENBRUFHLGFBQUFBLEdBQ0VwRCxLQUFLc0MsY0FBY2xCLFVBQVVFLE9BQU90QixLQUFLaUMsVUFBVW9CLHFCQUNuRHJELEtBQUtzQyxjQUFjZ0IsVUFBVyxDQUNoQyxDQUVBQyxjQUFBQSxHQUNFdkQsS0FBS3NDLGNBQWNsQixVQUFVQyxJQUFJckIsS0FBS2lDLFVBQVVvQixxQkFDaERyRCxLQUFLc0MsY0FBY2dCLFVBQVcsQ0FDaEMsQ0FFQUUsa0JBQUFBLEdBQ014RCxLQUFLa0QsbUJBQ1BsRCxLQUFLdUQsaUJBR1B2RCxLQUFLb0QsZUFDUCxDQUVBNUMsa0JBQUFBLEdBQ0VSLEtBQUttQyxlQUFlc0IsU0FBU2hCLElBQzNCQSxFQUFRL0IsaUJBQWlCLFNBQVVnRCxJQUNqQzFELEtBQUsrQyxvQkFBb0JOLEdBQ3pCekMsS0FBS3dELG9CQUFvQixHQUN6QixHQUVOLENBRUFHLG1CQUFBQSxHQUNFM0QsS0FBS3dELHFCQUNMeEQsS0FBS21DLGVBQWVzQixTQUFTaEIsSUFDM0J6QyxLQUFLOEMsZ0JBQWdCTCxFQUFRLEdBRWpDLENBRUFtQixnQkFBQUEsR0FDRTVELEtBQUtrQyxhQUFheEIsaUJBQWlCLFVBQVdnRCxJQUM1Q0EsRUFBSUcsZ0JBQWdCLElBRXRCN0QsS0FBS1Esb0JBQ1AsRUNoRmEsTUFBTXNELEVBQ25CeEUsV0FBQUEsQ0FBV0MsR0FBb0IsSUFBbkIsY0FBRXdFLEdBQWV4RSxFQUMzQlMsS0FBS2dFLGNBQWdCdEMsU0FBU2IsY0FBY2tELEdBQzVDL0QsS0FBS2lFLGFBQWVqRSxLQUFLZ0UsY0FBY25ELGNBQWMsZ0JBQ3ZELENBRUFxRCxJQUFBQSxHQUNFbEUsS0FBS2dFLGNBQWM1QyxVQUFVQyxJQUFJLGdCQUNqQ3JCLEtBQUtRLG9CQUNQLENBRUEyRCxLQUFBQSxHQUNFbkUsS0FBS2dFLGNBQWM1QyxVQUFVRSxPQUFPLGdCQUNwQ3RCLEtBQUtvRSx1QkFDUCxDQUVBNUQsa0JBQUFBLEdBQ0VrQixTQUFTaEIsaUJBQWlCLFVBQVdWLEtBQUtxRSxnQkFDMUNyRSxLQUFLZ0UsY0FBY3RELGlCQUFpQixZQUFhVixLQUFLc0Usb0JBQ3REdEUsS0FBS2lFLGFBQWF2RCxpQkFBaUIsWUFBYVYsS0FBS3VFLGtCQUN2RCxDQUVBSCxxQkFBQUEsR0FDRTFDLFNBQVM4QyxvQkFBb0IsVUFBV3hFLEtBQUtxRSxnQkFDN0NyRSxLQUFLZ0UsY0FBY1Esb0JBQ2pCLFlBQ0F4RSxLQUFLc0Usb0JBRVB0RSxLQUFLaUUsYUFBYU8sb0JBQW9CLFlBQWF4RSxLQUFLdUUsa0JBQzFELENBRUFGLGVBQWtCWCxJQUNBLFdBQVpBLEVBQUllLEtBQ056RSxLQUFLbUUsT0FDUCxFQUdGRyxtQkFBc0JJLElBQ2hCQSxFQUFNQyxPQUFPdkQsVUFBVXdELFNBQVMsVUFDbEM1RSxLQUFLbUUsT0FDUCxFQUdGSSxrQkFBb0JBLEtBQ2xCdkUsS0FBS21FLE9BQU8sRUMxQ0QsTUFBTVUsVUFBc0JmLEVBQ3pDeEUsV0FBQUEsQ0FBWXlFLEVBQWVlLEdBQ3pCQyxNQUFNLENBQUVoQixrQkFDUi9ELEtBQUtnRixXQUFhaEYsS0FBS2dFLGNBQWNuRCxjQUFjLGdCQUNuRGIsS0FBS2lGLGtCQUFvQkgsRUFDekI5RSxLQUFLa0YsYUFBZSxJQUNmbEYsS0FBS2dFLGNBQWM1QixpQkFBaUIsa0JBRXpDcEMsS0FBS3NDLGNBQWdCdEMsS0FBS2dGLFdBQVduRSxjQUFjLGlCQUNyRCxDQUVBc0UsZUFBQUEsR0FDRSxNQUFNQyxFQUFjLENBQUMsRUFNckIsT0FKQXBGLEtBQUtrRixhQUFhekIsU0FBUzRCLElBQ3pCRCxFQUFZQyxFQUFNekYsTUFBUXlGLEVBQU1DLEtBQUssSUFHaENGLENBQ1QsQ0FFQWxCLElBQUFBLEdBQ0VhLE1BQU1iLE9BQ05sRSxLQUFLZ0YsV0FBV3RFLGlCQUFpQixTQUFVVixLQUFLdUYscUJBQ2xELENBRUFwQixLQUFBQSxHQUNFWSxNQUFNWixRQUNObkUsS0FBS2dGLFdBQVdSLG9CQUFvQixTQUFVeEUsS0FBS3VGLHFCQUNyRCxDQUVBQSxxQkFBd0I3QixJQUN0QkEsRUFBSUcsaUJBQ0o3RCxLQUFLaUYsa0JBQWtCakYsS0FBS21GLGtCQUFrQixFQUdoREssYUFBQUEsR0FDRXhGLEtBQUtzQyxjQUFjcEIsWUFBYyxXQUNuQyxDQUVBdUUsV0FBQUEsQ0FBWUMsR0FDVjFGLEtBQUtzQyxjQUFjcEIsWUFBY3dFLENBQ25DLEVDMUNLLE1BQU1DLEVBQVMsQ0FDcEJDLGFBQWMsZUFDZHZELGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJjLG9CQUFxQix5QkFDckJWLGdCQUFpQiwwQkFDakJFLFdBQVksd0JBRURnRCxFQUFvQm5FLFNBQVNiLGNBQ3hDLHlCQUVXaUYsRUFBb0JwRSxTQUFTYixjQUFjLGlCQUMzQ2tGLEVBQXVCckUsU0FBU2IsY0FBYyxrQkFDOUNtRixFQUFxQnRFLFNBQVN1RSxNQUFNLGdCQUVwQ0MsRUFBZ0J4RSxTQUFTYixjQUFjLHdCQUN2Q3NGLEVBQXFCekUsU0FBU3VFLE1BQU0saUJBRXBDRyxFQUF3QjFFLFNBQVNiLGNBQWMsbUJBQy9Dd0YsRUFBNEIzRSxTQUFTdUUsTUFBTSx3QkFFaEN2RSxTQUFTYixjQUFjLHNCQ0F4QyxNQUFNeUYsRUFBTSxJQ3JCSixNQUNiaEgsV0FBQUEsQ0FBWWlILEdBQ1Z2RyxLQUFLd0csU0FBV0QsQ0FDbEIsQ0FFQUUsaUJBQW9CQyxHQUNkQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOQyxRQUFRQyxPQUFPLFVBQVVKLEVBQUlLLFVBR3RDQyxlQUFBQSxHQUNFLE9BQU9DLE1BQU0sR0FBR2pILEtBQUt3RyxTQUFTVSxnQkFBaUIsQ0FDN0NDLFFBQVNuSCxLQUFLd0csU0FBU1csVUFDdEJDLEtBQUtwSCxLQUFLeUcsaUJBQ2YsQ0FFQVksV0FBQUEsR0FDRSxPQUFPSixNQUFNLEdBQUdqSCxLQUFLd0csU0FBU1UsbUJBQW9CLENBQ2hEQyxRQUFTbkgsS0FBS3dHLFNBQVNXLFVBQ3RCQyxLQUFLcEgsS0FBS3lHLGlCQUNmLENBRUFhLFlBQUFBLENBQVkvSCxHQUFrQixJQUFqQixLQUFFSyxFQUFJLE1BQUUySCxHQUFPaEksRUFDMUIsT0FBTzBILE1BQU0sR0FBR2pILEtBQUt3RyxTQUFTVSxtQkFBb0IsQ0FDaERNLE9BQVEsUUFDUkwsUUFBU25ILEtBQUt3RyxTQUFTVyxRQUN2Qk0sS0FBTUMsS0FBS0MsVUFBVSxDQUNuQi9ILEtBQU1BLEVBQ04ySCxNQUFPQSxNQUVSSCxLQUFLcEgsS0FBS3lHLGlCQUNmLENBRUFtQixhQUFBQSxDQUFhQyxHQUFhLElBQVosT0FBRUMsR0FBUUQsRUFDdEIsT0FBT1osTUFBTSxHQUFHakgsS0FBS3dHLFNBQVNVLDBCQUEyQixDQUN2RE0sT0FBUSxRQUNSTCxRQUFTbkgsS0FBS3dHLFNBQVNXLFFBQ3ZCTSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CRyxPQUFRQSxNQUVUVixLQUFLcEgsS0FBS3lHLGlCQUNmLENBRUFzQixVQUFBQSxDQUFXbkksRUFBTUMsR0FDZixPQUFPb0gsTUFBTSxHQUFHakgsS0FBS3dHLFNBQVNVLGdCQUFpQixDQUM3Q00sT0FBUSxPQUNSTCxRQUFTbkgsS0FBS3dHLFNBQVNXLFFBQ3ZCTSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CL0gsS0FBTUEsRUFDTkMsS0FBTUEsTUFFUHVILEtBQUtwSCxLQUFLeUcsaUJBQ2YsQ0FFQWpGLFVBQUFBLENBQVdLLEdBQ1QsT0FBT29GLE1BQU0sR0FBR2pILEtBQUt3RyxTQUFTVSxpQkFBaUJyRixJQUFNLENBQ25EMkYsT0FBUSxTQUNSTCxRQUFTbkgsS0FBS3dHLFNBQVNXLFVBQ3RCQyxLQUFLcEgsS0FBS3lHLGlCQUNmLENBRUF1QixPQUFBQSxDQUFRbkcsR0FDTixPQUFPb0YsTUFBTSxHQUFHakgsS0FBS3dHLFNBQVNVLGlCQUFpQnJGLFVBQVksQ0FDekQyRixPQUFRLE1BQ1JMLFFBQVNuSCxLQUFLd0csU0FBU1csVUFDdEJDLEtBQUtwSCxLQUFLeUcsaUJBQ2YsQ0FFQXdCLFVBQUFBLENBQVdwRyxHQUNULE9BQU9vRixNQUFNLEdBQUdqSCxLQUFLd0csU0FBU1UsaUJBQWlCckYsVUFBWSxDQUN6RDJGLE9BQVEsU0FDUkwsUUFBU25ILEtBQUt3RyxTQUFTVyxVQUN0QkMsS0FBS3BILEtBQUt5RyxpQkFDZixHRHREeUIsQ0FDekJTLFFBQVMsa0RBQ1RDLFFBQVMsQ0FDUGUsY0FBZSx1Q0FDZixlQUFnQixzQkFJcEI1QixFQUNHVSxrQkFDQUksTUFBTWUsSUFDTEMsRUFBU0MsWUFBWUYsRUFBUSxJQUc5QkcsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUd0QmpDLEVBQ0dlLGNBQ0FELE1BQU1zQixJQUNMQyxFQUFnQkMsWUFBWUYsRUFBTzlJLEtBQU04SSxFQUFPbkIsT0FDaERvQixFQUFnQkUsVUFBVUgsRUFBT1osT0FBTyxJQUV6Q1EsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUtmLE1BQU1JLEVBQWtCLElFbkRoQixNQUNickosV0FBQUEsQ0FBV0MsR0FBOEMsSUFBN0MsWUFBRXVKLEVBQVcsYUFBRUMsRUFBWSxhQUFFQyxHQUFjekosRUFDckRTLEtBQUtpSixhQUFldkgsU0FBU2IsY0FBY2lJLEdBQzNDOUksS0FBS2tKLGNBQWdCeEgsU0FBU2IsY0FBY2tJLEdBQzVDL0ksS0FBS21KLGdCQUFrQnpILFNBQVNiLGNBQWNtSSxFQUNoRCxDQUVBM0IsV0FBQUEsR0FNRSxPQUxBckgsS0FBS29KLGFBQWUsQ0FDbEJ4SixLQUFNSSxLQUFLaUosYUFBYS9ILFlBQ3hCbUksTUFBT3JKLEtBQUtrSixjQUFjaEksWUFDMUI0RyxPQUFROUgsS0FBS21KLGdCQUFnQnBJLEtBRXhCZixLQUFLb0osWUFDZCxDQUVBUixXQUFBQSxDQUFZaEosRUFBTXlKLEdBQ2hCckosS0FBS2lKLGFBQWEvSCxZQUFjdEIsRUFDaENJLEtBQUtrSixjQUFjaEksWUFBY21JLENBQ25DLENBRUFSLFNBQUFBLENBQVVmLEdBQ1I5SCxLQUFLbUosZ0JBQWdCcEksSUFBTStHLENBQzdCLEdGNEIwQyxDQUMxQ2dCLFlBQWEsa0JBQ2JDLGFBQWMscUJBQ2RDLGFBQWMsb0JBS0haLEVBQVcsSUc3RFQsTUFDYjlJLFdBQUFBLENBQVdDLEVBQWUrSixHQUF1QixJQUFyQyxTQUFFQyxHQUFVaEssRUFDdEJTLEtBQUt3SixVQUFZRCxFQUNqQnZKLEtBQUt5SixXQUFhL0gsU0FBU2IsY0FBY3lJLEVBQzNDLENBRUFqQixXQUFBQSxDQUFZcUIsR0FDVkEsRUFBTWpHLFNBQVNrRyxJQUNiLE1BQU1DLEVBQVU1SixLQUFLd0osVUFBVUcsR0FDL0IzSixLQUFLeUosV0FBV0ksT0FBT0QsRUFBUSxHQUVuQyxDQUVBRSxPQUFBQSxDQUFRSCxHQUNOLE1BQU1DLEVBQVU1SixLQUFLd0osVUFBVUcsR0FDL0IzSixLQUFLeUosV0FBV00sUUFBUUgsRUFDMUIsR0g4Q0EsQ0FDRUwsU0FBV1MsR0FDRixJQUFJM0ssRUFDVDJLLEVBQ0EsZUFDQXZLLEVBQ0F3SyxFQUNBdEssR0FDQThCLFdBR04sVUFLSXlJLEVBQXVCLElBQUlwSSxFQUFjNkQsRUFBUVEsR0FDakRnRSxFQUF1QixJQUFJckksRUFBYzZELEVBQVFLLEdBQ2pEb0UsRUFBOEIsSUFBSXRJLEVBQ3RDNkQsRUFDQVUsR0FHRjZELEVBQXFCdEcsbUJBQ3JCdUcsRUFBcUJ2RyxtQkFDckJ3RyxFQUE0QnhHLG1CQUk1QixNQUFNeUcsRUFBZSxJQUFJeEYsRUFBYyxtQkFBb0J5RixJQUN6REQsRUFBYTdFLGdCQUNiYyxFQUNHeUIsV0FBV3VDLEVBQVVqQixNQUFPaUIsRUFBVUMsS0FDdENuRCxNQUFNc0IsR0FBV04sRUFBUzBCLFFBQVFwQixLQUNsQ3RCLE1BQUssS0FDSmpCLEVBQW1CcUUsUUFDbkJOLEVBQXFCdkcsc0JBQ3JCMEcsRUFBYWxHLE9BQU8sSUFFckJtRSxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBRW5Ca0MsU0FBUSxJQUFNSixFQUFhNUUsWUFBWSxXQUFVLElBR2hEaUYsRUFBZSxJQUFJN0YsRUFBYyx1QkFBd0J5RixJQUM3REksRUFBYWxGLGdCQUNiYyxFQUNHZ0IsYUFBYSxDQUFFMUgsS0FBTTBLLEVBQVUxSyxLQUFNMkgsTUFBTytDLEVBQVVqQixRQUN0RGpDLE1BQU1zQixJQUNMQyxFQUFnQkMsWUFBWUYsRUFBTzlJLEtBQU04SSxFQUFPbkIsT0FDaER2QixFQUFtQndFLFFBQ25CRSxFQUFhdkcsT0FBTyxJQUVyQm1FLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksSUFFbkJrQyxTQUFRLElBQU1DLEVBQWFqRixZQUFZLFNBQVEsSUFHOUNrRixFQUFzQixJQUFJOUYsRUFDOUIsMEJBQ0N5RixJQUNDSyxFQUFvQm5GLGdCQUNwQmMsRUFDR3NCLGNBQWMsQ0FBRUUsT0FBUXdDLEVBQVVDLE1BQ2xDbkQsTUFBTXNCLElBQ0xDLEVBQWdCRSxVQUFVSCxFQUFPWixRQUNqQ3pCLEVBQTBCbUUsUUFDMUJKLEVBQTRCekcsc0JBQzVCZ0gsRUFBb0J4RyxPQUFPLElBRTVCbUUsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUVuQmtDLFNBQVEsSUFBTUUsRUFBb0JsRixZQUFZLFNBQVEsSUFJaERtRixFQUFjLElJM0laLGNBQWlDOUcsRUFDOUN4RSxXQUFBQSxDQUFZeUUsRUFBZWUsR0FDekJDLE1BQU0sQ0FBRWhCLGtCQUNSL0QsS0FBS2dGLFdBQWFoRixLQUFLZ0UsY0FBY25ELGNBQWMsZ0JBQ25EYixLQUFLaUYsa0JBQW9CSCxFQUN6QjlFLEtBQUtzQyxjQUFnQnRDLEtBQUtnRixXQUFXbkUsY0FBYyxpQkFDckQsQ0FFQXFELElBQUFBLENBQUswRixHQUNIN0UsTUFBTWIsT0FDTmxFLEtBQUtnRixXQUFXdEUsaUJBQWlCLFNBQVVWLEtBQUt1RixzQkFDaER2RixLQUFLNkssU0FBV2pCLENBQ2xCLENBRUF6RixLQUFBQSxHQUNFWSxNQUFNWixRQUNObkUsS0FBS2dGLFdBQVdSLG9CQUFvQixTQUFVeEUsS0FBS3VGLHFCQUNyRCxDQUVBQSxxQkFBd0I3QixJQUN0QkEsRUFBSUcsaUJBQ0o3RCxLQUFLaUYsa0JBQWtCakYsS0FBSzZLLFNBQVMsRUFHdkNyRixhQUFBQSxHQUNFeEYsS0FBS3NDLGNBQWNwQixZQUFjLGtCQUNuQyxDQUVBdUUsV0FBQUEsR0FDRXpGLEtBQUtzQyxjQUFjcEIsWUFBYyxLQUNuQyxHSjhHQSxzQkFDQzRKLElBQ0NGLEVBQVlwRixnQkFDWmMsRUFDRzlFLFdBQVdzSixFQUFLaEwsS0FDaEJzSCxNQUFLLEtBQ0owRCxFQUFLdEosYUFDTG9KLEVBQVl6RyxPQUFPLElBRXBCbUUsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUVuQmtDLFNBQVEsSUFBTUcsRUFBWW5GLGVBQWMsSUFNekNzRixFQUFhLElLOUpKLGNBQTZCakgsRUFDMUN4RSxXQUFBQSxDQUFZeUUsR0FDVmdCLE1BQU0sQ0FBRWhCLGtCQUNSL0QsS0FBS2dMLE9BQVNoTCxLQUFLZ0UsY0FBY25ELGNBQWMsd0JBQy9DYixLQUFLaUwsWUFBY2pMLEtBQUtnRSxjQUFjbkQsY0FBYyxpQkFDdEQsQ0FFQXFELElBQUFBLENBQUtuRCxFQUFLQyxFQUFLcUksR0FDYnJKLEtBQUtnTCxPQUFPakssSUFBTUEsRUFDbEJmLEtBQUtnTCxPQUFPaEssSUFBTUEsRUFDbEJoQixLQUFLaUwsWUFBWS9KLFlBQWNtSSxFQUMvQnRFLE1BQU1iLE1BQ1IsR0xrSm9DLHVCQUl0QyxTQUFTK0YsRUFBa0JhLEdBQ3pCRixFQUFZMUcsS0FBSzRHLEVBQ25CLENBRUEsU0FBU3JMLEVBQWlCc0IsRUFBS0MsRUFBS3FJLEdBQ2xDMEIsRUFBVzdHLEtBQUtuRCxFQUFLQyxFQUFLcUksRUFDNUIsQ0FRQSxTQUFTMUosRUFBWW1MLEdBQ2ZBLEVBQUt2SyxTQUNQK0YsRUFDRzJCLFdBQVc2QyxFQUFLaEwsS0FDaEJzSCxNQUFNc0IsSUFDTG9DLEVBQUt2SixXQUFXbUgsRUFBTzNJLFFBQVEsSUFFaEN1SSxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBR3RCakMsRUFDRzBCLFFBQVE4QyxFQUFLaEwsS0FDYnNILE1BQU1zQixJQUNMb0MsRUFBS3ZKLFdBQVdtSCxFQUFPM0ksUUFBUSxJQUVoQ3VJLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksR0FHMUIsQ0FJQTFDLEVBQWtCbkYsaUJBQWlCLFNBQVMsTUE5QjVDLFdBQ0UsTUFBTXdLLEVBQWN2QyxFQUFnQnRCLGNBQ3BDdkIsRUFBa0JSLE1BQVE0RixFQUFZdEwsS0FDdENtRyxFQUFxQlQsTUFBUTRGLEVBQVk3QixLQUMzQyxDQTJCRThCLEdBQ0FoQixFQUFxQnhHLHNCQUNyQitHLEVBQWF4RyxNQUFNLElBR3JCZ0MsRUFBY3hGLGlCQUFpQixTQUFTLElBQU0ySixFQUFhbkcsU0FFM0RrQyxFQUFzQjFGLGlCQUFpQixTQUFTLElBQzlDaUssRUFBb0J6RyxRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHsgbmFtZSwgbGluaywgX2lkLCBpc0xpa2VkIH0sXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2FyZCxcbiAgICBoYW5kbGVMaWtlc1xuICApIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9pZCA9IF9pZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCA9IGhhbmRsZURlbGV0ZUNhcmQ7XG4gICAgdGhpcy5faGFuZGxlTGlrZXMgPSBoYW5kbGVMaWtlcztcbiAgICB0aGlzLl9pc0xpa2VkID0gaXNMaWtlZDtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvLyBMaWtlIEJ1dHRvblxuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZUljb24pO1xuXG4gICAgLy8gRGVsZXRlIEJ1dHRvblxuXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19kZWxldGUtYnV0dG9uXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZCh0aGlzKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gSW1hZ2VcblxuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKFxuICAgICAgICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyxcbiAgICAgICAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQsXG4gICAgICAgICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2hhbmRsZUxpa2VJY29uID0gKCkgPT4ge1xuICAgIHRoaXMuX2hhbmRsZUxpa2VzKHRoaXMpO1xuICB9O1xuXG4gIF9pc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xuICB9XG5cbiAgX3JlbmRlckxpa2VzKCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkc19fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIHNldElzTGlrZWQoaXNMaWtlZCkge1xuICAgIHRoaXMuX2lzTGlrZWQgPSBpc0xpa2VkO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIGdldFZpZXcoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saWtlLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZHNfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19faW1hZ2UtdGl0bGVcIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5pZCA9IHRoaXMuX2lkO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzID0gW1xuICAgICAgLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKSxcbiAgICBdO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl9zZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH1cbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVsZW1lbnRzLmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVsZW1lbnRzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldEZvcm1WYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVDbGlja092ZXJsYXkpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbik7XG4gIH1cblxuICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1vdXNlZG93blwiLFxuICAgICAgdGhpcy5oYW5kbGVDbGlja092ZXJsYXlcbiAgICApO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5oYW5kbGVDbG9zZUJ1dHRvbik7XG4gIH1cblxuICBoYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVDbGlja092ZXJsYXkgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIGhhbmRsZUNsb3NlQnV0dG9uID0gKCkgPT4ge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfTtcbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0RmllbGRzID0gW1xuICAgICAgLi4udGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpLFxuICAgIF07XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuXG4gICAgdGhpcy5faW5wdXRGaWVsZHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZVN1Ym1pdExpc3RlbmVyKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5oYW5kbGVTdWJtaXRMaXN0ZW5lcik7XG4gIH1cblxuICBoYW5kbGVTdWJtaXRMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICB9O1xuXG4gIHJlbmRlckxvYWRpbmcoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcbiAgfVxuXG4gIHJlc2V0QnV0dG9uKHRleHQpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9XG59XG4iLCIvLyBFbGVtZW50cyAvL1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5leHBvcnQgY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXG4pO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSduYW1lJ11cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsU3VidGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J3RpdGxlJ11cIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5cbmV4cG9ydCBjb25zdCBhZGRDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiYWRkLWNhcmQtZm9ybVwiXTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQaWN0dXJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1waWN0dXJlLWZvcm1cIl07XG5cbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtbW9kYWxcIik7XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IHtcbiAgY29uZmlnLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZU1vZGFsVGl0bGUsXG4gIHByb2ZpbGVNb2RhbFN1YnRpdGxlLFxuICBwcm9maWxlRm9ybUVsZW1lbnQsXG4gIGFkZENhcmRCdXR0b24sXG4gIGFkZENhcmRGb3JtRWxlbWVudCxcbiAgcHJvZmlsZVBpY3R1cmVFbGVtZW50LFxuICBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50LFxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBQb3B1cENvbmZpcm1EZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkLmpzXCI7XG5cbi8vIEFwaSAvL1xuXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiY2IyZTM3ZTYtNzQ4Yi00M2RjLWE5OTMtYzM4MzZjM2YwNmEwXCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigocmVzdWx0cykgPT4ge1xuICAgIGNhcmRMaXN0LnJlbmRlckl0ZW1zKHJlc3VsdHMpO1xuICB9KVxuXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICB1c2VySW5mb3JtYXRpb24uc2V0VXNlckluZm8ocmVzdWx0Lm5hbWUsIHJlc3VsdC5hYm91dCk7XG4gICAgdXNlckluZm9ybWF0aW9uLnNldEF2YXRhcihyZXN1bHQuYXZhdGFyKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG4vLyBVc2VySW5mbyAvL1xuXG5leHBvcnQgY29uc3QgdXNlckluZm9ybWF0aW9uID0gbmV3IFVzZXJJbmZvKHtcbiAgcHJvZmlsZU5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIHByb2ZpbGVUaXRsZTogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcbiAgcHJvZmlsZUltYWdlOiBcIi5wcm9maWxlX19pbWFnZVwiLFxufSk7XG5cbi8vIFNlY3Rpb24gLy9cblxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGNhcmRJdGVtKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IENhcmQoXG4gICAgICAgIGNhcmRJdGVtLFxuICAgICAgICBcIiNjYXJkc19fY2FyZFwiLFxuICAgICAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgICAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICAgICAgaGFuZGxlTGlrZXNcbiAgICAgICkuZ2V0VmlldygpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmNhcmRzXCJcbik7XG5cbi8vIEZvcm0gVmFsaWRhdGlvbiAvL1xuXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYWRkQ2FyZEZvcm1FbGVtZW50KTtcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRm9ybUVsZW1lbnQpO1xuY29uc3QgcHJvZmlsZVBpY3R1cmVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIGNvbmZpZyxcbiAgcHJvZmlsZVBpY3R1cmVGb3JtRWxlbWVudFxuKTtcblxuYWRkQ2FyZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xucHJvZmlsZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xucHJvZmlsZVBpY3R1cmVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gUG9wdXAgV2l0aCBGb3JtIC8vXG5cbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2FkZC1jYXJkLW1vZGFsXCIsIChpbnB1dERhdGEpID0+IHtcbiAgbmV3Q2FyZFBvcHVwLnJlbmRlckxvYWRpbmcoKTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoaW5wdXREYXRhLnRpdGxlLCBpbnB1dERhdGEudXJsKVxuICAgIC50aGVuKChyZXN1bHQpID0+IGNhcmRMaXN0LmFkZEl0ZW0ocmVzdWx0KSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBhZGRDYXJkRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgICAgIGFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcbiAgICAgIG5ld0NhcmRQb3B1cC5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IG5ld0NhcmRQb3B1cC5yZXNldEJ1dHRvbihcIkNyZWF0ZVwiKSk7XG59KTtcblxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsIChpbnB1dERhdGEpID0+IHtcbiAgcHJvZmlsZVBvcHVwLnJlbmRlckxvYWRpbmcoKTtcbiAgYXBpXG4gICAgLnNhdmVVc2VyRGF0YSh7IG5hbWU6IGlucHV0RGF0YS5uYW1lLCBhYm91dDogaW5wdXREYXRhLnRpdGxlIH0pXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgdXNlckluZm9ybWF0aW9uLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQpO1xuICAgICAgcHJvZmlsZUZvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwcm9maWxlUG9wdXAucmVzZXRCdXR0b24oXCJTYXZlXCIpKTtcbn0pO1xuXG5jb25zdCBwcm9maWxlUGljdHVyZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtcGljdHVyZS1tb2RhbFwiLFxuICAoaW5wdXREYXRhKSA9PiB7XG4gICAgcHJvZmlsZVBpY3R1cmVQb3B1cC5yZW5kZXJMb2FkaW5nKCk7XG4gICAgYXBpXG4gICAgICAuc2F2ZVVzZXJJbWFnZSh7IGF2YXRhcjogaW5wdXREYXRhLnVybCB9KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB1c2VySW5mb3JtYXRpb24uc2V0QXZhdGFyKHJlc3VsdC5hdmF0YXIpO1xuICAgICAgICBwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgICAgIHByb2ZpbGVQaWN0dXJlRm9ybVZhbGlkYXRvci5yZXNldEZvcm1WYWxpZGF0aW9uKCk7XG4gICAgICAgIHByb2ZpbGVQaWN0dXJlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gcHJvZmlsZVBpY3R1cmVQb3B1cC5yZXNldEJ1dHRvbihcIlNhdmVcIikpO1xuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBDb25maXJtRGVsZXRlKFxuICBcIiNkZWxldGUtY2FyZC1tb2RhbFwiLFxuICAoY2FyZCkgPT4ge1xuICAgIGRlbGV0ZVBvcHVwLnJlbmRlckxvYWRpbmcoKTtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoKTtcbiAgICAgICAgZGVsZXRlUG9wdXAuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4gZGVsZXRlUG9wdXAucmVzZXRCdXR0b24oKSk7XG4gIH1cbik7XG5cbi8vIFBvcHVwIFdpdGggSW1hZ2UgLy9cblxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNvcGVuLXBpY3R1cmUtbW9kYWxcIik7XG5cbi8vIEZ1bmN0aW9ucyAvL1xuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkKSB7XG4gIGRlbGV0ZVBvcHVwLm9wZW4oY2FyZCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soc3JjLCBhbHQsIHRpdGxlKSB7XG4gIGltYWdlUG9wdXAub3BlbihzcmMsIGFsdCwgdGl0bGUpO1xufVxuXG5mdW5jdGlvbiBmaWxsUHJvZmlsZUZvcm0oKSB7XG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gdXNlckluZm9ybWF0aW9uLmdldFVzZXJJbmZvKCk7XG4gIHByb2ZpbGVNb2RhbFRpdGxlLnZhbHVlID0gcHJvZmlsZUluZm8ubmFtZTtcbiAgcHJvZmlsZU1vZGFsU3VidGl0bGUudmFsdWUgPSBwcm9maWxlSW5mby50aXRsZTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZXMoY2FyZCkge1xuICBpZiAoY2FyZC5faXNMaWtlZCkge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUxpa2UoY2FyZC5faWQpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNhcmQuc2V0SXNMaWtlZChyZXN1bHQuaXNMaWtlZCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZShjYXJkLl9pZClcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY2FyZC5zZXRJc0xpa2VkKHJlc3VsdC5pc0xpa2VkKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vLyBFdmVudCBMaXN0ZW5lcnMgLy9cblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgZmlsbFByb2ZpbGVGb3JtKCk7XG4gIHByb2ZpbGVGb3JtVmFsaWRhdG9yLnJlc2V0Rm9ybVZhbGlkYXRpb24oKTtcbiAgcHJvZmlsZVBvcHVwLm9wZW4oKTtcbn0pO1xuXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBuZXdDYXJkUG9wdXAub3BlbigpKTtcblxucHJvZmlsZVBpY3R1cmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxuICBwcm9maWxlUGljdHVyZVBvcHVwLm9wZW4oKVxuKTtcbiIsImltcG9ydCB7IGNhcmRMaXN0LCB1c2VySW5mb3JtYXRpb24gfSBmcm9tIFwiLi4vcGFnZXMvaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgX3Byb2Nlc3NSZXNwb25zZSA9IChyZXMpID0+IHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9O1xuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cblxuICBzYXZlVXNlckRhdGEoeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgc2F2ZVVzZXJJbWFnZSh7IGF2YXRhciB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3Q2FyZChuYW1lLCBsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9vcHRpb25zLmJhc2VVcmx9L2NhcmRzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fb3B0aW9ucy5oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fcHJvY2Vzc1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGFkZExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fb3B0aW9ucy5iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX29wdGlvbnMuaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX3Byb2Nlc3NSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX29wdGlvbnMuYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9vcHRpb25zLmhlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9wcm9jZXNzUmVzcG9uc2UpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vcGFnZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lLCBwcm9maWxlVGl0bGUsIHByb2ZpbGVJbWFnZSB9KSB7XG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVOYW1lKTtcbiAgICB0aGlzLl9wcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVUaXRsZSk7XG4gICAgdGhpcy5fcHJvZmlsZVBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVJbWFnZSk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLl9wcm9maWxlSW5mbyA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50LFxuICAgICAgdGl0bGU6IHRoaXMuX3Byb2ZpbGVUaXRsZS50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy5fcHJvZmlsZVBpY3R1cmUuc3JjLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3Byb2ZpbGVJbmZvO1xuICB9XG5cbiAgc2V0VXNlckluZm8obmFtZSwgdGl0bGUpIHtcbiAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcHJvZmlsZVRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG4gIH1cblxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fcHJvZmlsZVBpY3R1cmUuc3JjID0gYXZhdGFyO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBpdGVtQ29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaXRlbUNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwQ29uZmlybURlbGV0ZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICB9XG5cbiAgb3BlbihlbGVtZW50KSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuaGFuZGxlU3VibWl0TGlzdGVuZXIpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmhhbmRsZVN1Ym1pdExpc3RlbmVyKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdExpc3RlbmVyID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZWxlbWVudCk7XG4gIH07XG5cbiAgcmVuZGVyTG9hZGluZygpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlJlbW92aW5nIENhcmQuLi5cIjtcbiAgfVxuXG4gIHJlc2V0QnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiWWVzXCI7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19vcGVuLXBpY3R1cmVcIik7XG4gICAgdGhpcy5faW1hZ2VUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb290ZXJcIik7XG4gIH1cblxuICBvcGVuKHNyYywgYWx0LCB0aXRsZSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHNyYztcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBhbHQ7XG4gICAgdGhpcy5faW1hZ2VUaXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsIl9yZWYiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2FyZCIsImhhbmRsZUxpa2VzIiwibmFtZSIsImxpbmsiLCJfaWQiLCJpc0xpa2VkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVMaWtlcyIsIl9pc0xpa2VkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VJY29uIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9jYXJkSW1hZ2VFbCIsInNyYyIsImFsdCIsIl9jYXJkVGl0bGVFbCIsInRleHRDb250ZW50IiwiX3JlbmRlckxpa2VzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwic2V0SXNMaWtlZCIsImRlbGV0ZUNhcmQiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiaWQiLCJGb3JtVmFsaWRhdG9yIiwic2V0dGluZ3MiLCJmb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yQ2xhc3MiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVyeSIsIl9lbmFibGVCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZGlzYWJsZUJ1dHRvbiIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJldnQiLCJyZXNldEZvcm1WYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW4iLCJjbG9zZSIsIl9yZW1vdmVFdmVudExpc3RlbmVycyIsImhhbmRsZUVzY0Nsb3NlIiwiaGFuZGxlQ2xpY2tPdmVybGF5IiwiaGFuZGxlQ2xvc2VCdXR0b24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiZXZlbnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRGaWVsZHMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJoYW5kbGVTdWJtaXRMaXN0ZW5lciIsInJlbmRlckxvYWRpbmciLCJyZXNldEJ1dHRvbiIsInRleHQiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVNb2RhbFRpdGxlIiwicHJvZmlsZU1vZGFsU3VidGl0bGUiLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJmb3JtcyIsImFkZENhcmRCdXR0b24iLCJhZGRDYXJkRm9ybUVsZW1lbnQiLCJwcm9maWxlUGljdHVyZUVsZW1lbnQiLCJwcm9maWxlUGljdHVyZUZvcm1FbGVtZW50IiwiYXBpIiwib3B0aW9ucyIsIl9vcHRpb25zIiwiX3Byb2Nlc3NSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsImJhc2VVcmwiLCJoZWFkZXJzIiwidGhlbiIsImdldFVzZXJJbmZvIiwic2F2ZVVzZXJEYXRhIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInNhdmVVc2VySW1hZ2UiLCJfcmVmMiIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsImF1dGhvcml6YXRpb24iLCJyZXN1bHRzIiwiY2FyZExpc3QiLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicmVzdWx0IiwidXNlckluZm9ybWF0aW9uIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXIiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVUaXRsZSIsInByb2ZpbGVJbWFnZSIsIl9wcm9maWxlTmFtZSIsIl9wcm9maWxlVGl0bGUiLCJfcHJvZmlsZVBpY3R1cmUiLCJfcHJvZmlsZUluZm8iLCJ0aXRsZSIsIml0ZW1Db250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJhcHBlbmQiLCJhZGRJdGVtIiwicHJlcGVuZCIsImNhcmRJdGVtIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsInByb2ZpbGVGb3JtVmFsaWRhdG9yIiwicHJvZmlsZVBpY3R1cmVGb3JtVmFsaWRhdG9yIiwibmV3Q2FyZFBvcHVwIiwiaW5wdXREYXRhIiwidXJsIiwicmVzZXQiLCJmaW5hbGx5IiwicHJvZmlsZVBvcHVwIiwicHJvZmlsZVBpY3R1cmVQb3B1cCIsImRlbGV0ZVBvcHVwIiwiX2VsZW1lbnQiLCJjYXJkIiwiaW1hZ2VQb3B1cCIsIl9pbWFnZSIsIl9pbWFnZVRpdGxlIiwicHJvZmlsZUluZm8iLCJmaWxsUHJvZmlsZUZvcm0iXSwic291cmNlUm9vdCI6IiJ9